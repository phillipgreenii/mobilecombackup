{
  "$schema":  "https://raw.githubusercontent.com/jetify-com/devbox/0.14.2/.schema/devbox.schema.json",
  "packages": [
	  "go@1.24",
	  "golangci-lint@latest",
	  "claude-code@latest"
  ],
  "shell": {
    "init_hook": [
      "go mod tidy"
    ],
    "scripts": {
      "list-issues": [
              "ls -1 issues/{active,ready,backlog}"
      ],
      "formatter": [
              "go fmt ./..."
      ],
      "builder": [
              "go build -v ./..."
      ],
      "tests": [
              "go test -v -covermode=set ./..."
      ],
      "linter": [
              "golangci-lint run"
      ],
      "build-cli": [
              "sh -c 'VERSION=$(bash scripts/build-version.sh) && go build -ldflags \"-X main.Version=$VERSION\" -o mobilecombackup github.com/phillipgreen/mobilecombackup/cmd/mobilecombackup'"
      ],
      "validate-version": [
              "bash scripts/validate-version.sh"
      ],
      "ci": [
              "devbox run formatter",
              "devbox run tests",
              "devbox run linter",
              "devbox run build-cli"
      ]
    }
  }
}
